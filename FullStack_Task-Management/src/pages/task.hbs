<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>{{#if task}}Edit Task{{else}}New Task{{/if}}</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 text-gray-800 h-screen">
  <div class="max-w-xl mx-auto px-4 py-10">
    <div class="bg-white rounded-2xl shadow-md p-6">
      <h2 class="text-2xl font-bold mb-6">
        {{#if task}}✏️ Edit Task{{else}}➕ Create New Task{{/if}}
      </h2>
      <form class="space-y-5" id="taskForm" data-task-id="{{task.id}}">
        <div>
          <label for="name" class="block text-sm font-medium text-gray-700 mb-1">
            Task Name {{#if task}}{{else}}<span class="text-red-500">*</span>{{/if}}
          </label>
          <input type="text" id="name" name="name" required
            class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
            placeholder="Enter task title"
            value="{{task.name}}"
          />
        </div>
        <div>
          <label for="description" class="block text-sm font-medium text-gray-700 mb-1">
            Description {{#if task}}{{else}}<span class="text-red-500">*</span>{{/if}}
          </label>
          <textarea id="description" name="description" rows="4" required
            class="w-full border border-gray-300 rounded-md px-4 py-2 resize-none focus:outline-none focus:ring-2 focus:ring-indigo-500"
            placeholder="Enter task description">{{task.description}}</textarea>
        </div>
        {{#if task}}
        <div>
          <label for="status" class="block text-sm font-medium text-gray-700 mb-1">
            Status <span class="text-red-500">*</span>
          </label>
          <select id="status" name="status"
            class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500">
            {{#if task.status}}
              {{#if statusIsPending}}
                <option value="pending" selected>Pending</option>
                <option value="completed">Completed</option>
              {{else}}
                <option value="pending">Pending</option>
                <option value="completed" selected>Completed</option>
              {{/if}}
            {{else}}
              <option value="pending">Pending</option>
              <option value="completed">Completed</option>
            {{/if}}
          </select>
        </div>
        {{/if}}
        <div class="flex justify-between items-center pt-2">
          <a href="/" class="text-sm text-gray-500 hover:text-indigo-600">← Back to List</a>
          <button type="submit"
            class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium text-sm px-6 py-2 rounded-md">
            {{#if task}}Update Task{{else}}Create Task{{/if}}
          </button>
        </div>
      </form>
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"></script>
  <script src="/js/task.js"></script>
</body>

</html>